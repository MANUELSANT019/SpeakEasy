<!DOCTYPE html>
<html>
<head>
	<title>SpeakEasy</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
</head>
<body>
	<header class="header">
		<div class="header-logo">
			<h1>EasySpeak</h1>
			<p>Interface to control and help people with reduced mobility to control their home by voice and get recommendations.</p>
		</div>        
	</header>
    <nav>
        <ul>
           <li><a href="index2.html">main menu</a></li> 
          <li><a href="index.html">Aplication</a></li>
          <li><a href="config.html">Configuration</a></li>
        </ul>
      </nav> 

      <div class="cont">
      <h1 class="titulo">ask for any accessibility tips at home</h1>
      <form id="questionForm">
          <label class="preg" for="question">Question:</label>
          <input class="entrada" type="text" id="question" name="question">
          <button class="sub" type="submit">SEND</button>
      </form>
      <h2>Answer:</h2>
      <p id="answer"></p>
      <script>
          $("#questionForm").on("submit", function (event) {
              event.preventDefault();
      
              var question = $("#question").val();
              var requestData = {
                  "model": "text-curie-001",
                  "prompt": question,
                  "temperature": 0.8,
                  "max_tokens": 600,
                  "top_p": 1.0,
                  "frequency_penalty": 0.5,
                  "presence_penalty": 0.5,
                  "stop": ["You"]
              };
              $.ajax({
                  url: "https://api.openai.com/v1/completions",
                  type: "POST",
                  dataType: "json",
                  contentType: "application/json",
                  headers: {
                      "Authorization": "Bearer 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"
                  },
                  data: JSON.stringify(requestData),
                  success: function (response) {
                      $("#answer").text(response.choices[0].text);
                  },
                  error: function (xhr, textStatus, errorThrown) {
                      console.error(textStatus);
                  }
              });
          });
      </script>  
      </div>    
</body>
</html>
